{% extends "helios/templates/cryptobase.html" %}


{% block content %}
  <h2 class="title">Election: {{election.name}} &mdash; Trustee {{trustee.name}}'s Home</span></h2>

  <div class="single-container">
    <p class="what-and-why trustee-home-status">
    {% if election.encrypted_tally %}
    {% if trustee.decryption_factors %}
    You have successfully uploaded your decryption.
    {% else %}
        The encrypted tally for this election is ready.<br />
        <a href="{% url "election@trustee@decrypt-and-prove" election.uuid trustee.uuid %}">decrypt with your key</a>
    {% endif %}
    {% else %}
    <span style="font-size: 1.7rem; font-weight:bold;">Important Remarks</span>
    Once the tally is computed, come back here to provide your secret key for decryption purposes.<br />
    You should keep the email with your trustee homepage link, which contains the credentials needed to get back here.
    {% endif %}
    </p>
    </div>

<p>
{% if trustee.public_key_hash %}
You have successfully uploaded your public key.<br />
Your public key fingerprint is: <b>{{trustee.public_key_hash}}</b>.<br />
You can <a href="{% url "election@trustee@check-sk" election.uuid trustee.uuid %}">verify that you have the right secret key</a>.
{% else %}
<div class="setup-btn">
<a class="button" href="{% url "election@trustee@key-generator" election.uuid trustee.uuid %}">Setup Your Key</a>
</div>
{% endif %}
</p>




{% endblock %}
